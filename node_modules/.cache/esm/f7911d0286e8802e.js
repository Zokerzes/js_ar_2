let src,dest,series,parallel,pug,stylus,clean,terser,nop,gulpIf;_86e‍.x([["html",()=>html],["css",()=>css],["js",()=>js],["make",()=>make],["prod",()=>prod],["dev",()=>dev],["default",()=>_86e‍.o]]);_86e‍.w("gulp",[["src",["src"],function(v){src=v}],["dest",["dest"],function(v){dest=v}],["series",["series"],function(v){series=v}],["parallel",["parallel"],function(v){parallel=v}]]);_86e‍.w("gulp-pug",[["default",["pug"],function(v){pug=v}]]);_86e‍.w("gulp-stylus",[["default",["stylus"],function(v){stylus=v}]]);_86e‍.w("gulp-clean",[["default",["clean"],function(v){clean=v}]]);_86e‍.w("gulp-terser",[["default",["terser"],function(v){terser=v}]]);_86e‍.w("gulp-nop",[["default",["nop"],function(v){nop=v}]]);_86e‍.w("gulp-if",[["default",["gulpIf"],function(v){gulpIf=v}]]);







const
  SRC = './src/',
  DEST = './_dest/';

let
  minification = false;

       function html() {
  return src(SRC + '*.pug')
    .pipe(pug({ pretty: !minification }))
    .pipe(dest(DEST));
}

       function css() {
  return src(SRC + '*.styl')
    .pipe(stylus({ commpess: minification }))
    .pipe(dest(DEST));
}

       function js() {
  return src(SRC + '*.js')
    .pipe(minification ? terser() : nop())
    //
    .pipe(dest(DEST));
}

async function upload() {
  console.log('Load files on server');
}

async function serv() {
  console.log('dev server');
}

async function setMinification() {
  minification = true;
}

async function cleanDir() {
  return src(DEST + '**/*.*', { read: false })
    .pipe(clean());
}

       const make = parallel(html, css, js);

       const prod = series(setMinification, cleanDir, make, upload);
       const dev = series(make, serv);
_86e‍.d(dev);

